$(document).ready(function(){function s(s){$(".hamburger-menu").on("click",function(){s.matches?$(".mobile-menu").hide():$(".mobile-menu").stop().slideToggle()})}if(matchMedia){var e=window.matchMedia("(min-width: 960px)");e.addListener(s)}s(e),$(".close-icon-js").on("click",function(){$(".alert").slideUp()}),$(".wishlist-btn-js").on("click",function(){var s=document.location.protocol+"//"+document.location.host+"/wishlist",e="add";$_this=$(this),$_this.hasClass("btn--yellow-fill")&&(e="remove"),$_this.attr("disabled","disabled"),$_this.next().css("display","inline-block"),$.ajax({method:"POST",url:s+"/"+e+"/"+$_this.data("id"),data:{id:$_this.data("id")},success:function(s){"add"===e?($_this.removeClass("btn--blue"),$_this.addClass("btn--yellow-fill"),$_this.text("Remove from Wishlist")):($_this.removeClass("btn--yellow-fill"),$_this.addClass("btn--blue"),$_this.text("Add to Wishlist"))}}).always(function(){$_this.removeAttr("disabled","disabled"),$_this.next().hide()})}),$(".js-search-form input").keyup(function(s){var e=$(this).val(),t=document.location.protocol+"//"+document.location.host+"/books/search";$(".search-suggestions > li, .search-suggestions p, .search-suggestions__books").remove(),""!==e&&e.length>=3?(t+="?q="+e,$.get(t,function(s){$booksHtml=$(s).find(".book").slice(0,3),$(".search-suggestions > li, .search-suggestions p, .search-suggestions__books").remove(),$booksHtml.length>0&&($(".search-suggestions").append("<p>Books</p>"),$(".search-suggestions").append('<div class="search-suggestions__books">'),$booksHtml.each(function(s){$(".search-suggestions__books").append('<li class="search-suggestions__book"><a href="'+$(this).find(".book__link").attr("href")+'"><img src="'+$(this).find(".book__image").attr("src")+'"/><span class="search-suggestions__book-info">'+$(this).find(".book__title").html()+'</span><span class="author">'+$(this).find(".book__author").html()+"</span></a></li>")})),$authorHtml=$(s).find(".author").slice(0,3),$authorHtml.length>0&&($(".search-suggestions").append('<p class="search-suggestions__header--author">Authors</p>'),$authorHtml.each(function(s){$(".search-suggestions").append('<li><a href="'+$(this).find(".book__link").attr("href")+'"><img src="'+$(this).find(".grid-image-author").attr("src")+'"/><span class="search-suggestions__author-info">'+$(this).find(".author__name-title").html()+"</span></a></li>")})),0===$(".search-suggestions li").length&&($(".search-suggestions").append("<p>No Results</p>"),$(".search-suggestions").append('<li class="search-suggestions__no-results"><small style="font-style: italic">search for</small> <span style="margin-left: 10px; display: inline-block">"'+e+'"</span></li>')),$(".search-suggestions").show(),$(".search-suggestions").addClass("search-suggestions-awake"),$(".overlay").show()})):($(".overlay").hide(),$(".search-suggestions").removeClass("search-suggestions-awake"))}),$(".overlay").click(function(){$(".search-suggestions").hide(),$(this).hide()})});